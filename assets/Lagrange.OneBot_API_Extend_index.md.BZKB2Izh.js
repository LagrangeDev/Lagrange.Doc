import{_ as t,c as d,o as e,a2 as s}from"./chunks/framework.Be7igsT0.js";const b=JSON.parse('{"title":"拓展 API","description":"","frontmatter":{},"headers":[],"relativePath":"Lagrange.OneBot/API/Extend/index.md","filePath":"Lagrange.OneBot/API/Extend/index.md","lastUpdated":1710680441000}'),a={name:"Lagrange.OneBot/API/Extend/index.md"},i=s(`<h1 id="拓展-api" tabindex="-1">拓展 API <a class="header-anchor" href="#拓展-api" aria-label="Permalink to &quot;拓展 API&quot;">​</a></h1><h2 id="获取收藏表情" tabindex="-1">获取收藏表情 <a class="header-anchor" href="#获取收藏表情" aria-label="Permalink to &quot;获取收藏表情&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>fetch_custom_face</code></p><p><strong>参数</strong></p><p>该方法无参数</p><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>[RootElement]</code></td><td>List[string]</td><td>表情的下载 URL</td></tr></tbody></table><h2 id="获取好友历史消息记录" tabindex="-1">获取好友历史消息记录 <a class="header-anchor" href="#获取好友历史消息记录" aria-label="Permalink to &quot;获取好友历史消息记录&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>get_friend_msg_history</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>uint</td><td>好友 ID</td></tr><tr><td><code>message_id</code></td><td>int</td><td>要获取的消息的最后一条的 ID</td></tr><tr><td><code>count</code></td><td>int</td><td>获取的消息数量</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>messages</code></td><td>List[OneBotPrivateMessage]</td><td>获取的消息</td></tr></tbody></table><h2 id="获取群组历史消息记录" tabindex="-1">获取群组历史消息记录 <a class="header-anchor" href="#获取群组历史消息记录" aria-label="Permalink to &quot;获取群组历史消息记录&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>get_group_msg_history</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>uint</td><td>群组 ID</td></tr><tr><td><code>message_id</code></td><td>int</td><td>要获取的消息的最后一条的 ID</td></tr><tr><td><code>count</code></td><td>int</td><td>获取的消息数量</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>messages</code></td><td>List[OneBotGroupMessage]</td><td>获取的消息</td></tr></tbody></table><h2 id="构造合并转发消息" tabindex="-1">构造合并转发消息 <a class="header-anchor" href="#构造合并转发消息" aria-label="Permalink to &quot;构造合并转发消息&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>send_forward_msg</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>messages</code></td><td>List[<a href="./../../Segment/Extend/#node">Node</a>]</td><td>参考下方</td></tr></tbody></table><p>其中<code>OneBotSegment.node</code>的<code>data</code>部分要求如下</p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>name</code></td><td>string</td><td>自定义消息发送者昵称</td></tr><tr><td><code>uin</code></td><td>string</td><td>自定义消息发送者 QQ 号</td></tr><tr><td><code>content</code></td><td>List[OneBotSegment]</td><td>消息内容</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>resid</code></td><td>string</td><td>Resid</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p><strong>发送合并转发消息</strong></p><p>请使用标准消息发送 API 发送一个 <code>&quot;type&quot;: &quot;forward&quot;, &quot;id&quot;: Resid</code> 的 <code>OneBotSegment</code> 消息</p><p><strong>参考代码</strong></p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Pp7wn" id="tab-0Ih95zZ" checked="checked"><label for="tab-0Ih95zZ">Nonebot OneBot V11</label></div><div class="blocks"><div class="language-python vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nonebot.adapters.onebot.v11 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MessageSegment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_send_forward_message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(target_id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    messages </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;小助手&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2854196310&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [MessageSegment.text(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试消息&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot.call_api(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;send_forward_msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">messages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">messages)</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot.send_group_msg(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">group_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target_id, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MessageSegment.forward(res_id))</span></span></code></pre></div></div></div></div><h2 id="发送合并转发-群聊" tabindex="-1">发送合并转发 (群聊) <a class="header-anchor" href="#发送合并转发-群聊" aria-label="Permalink to &quot;发送合并转发 (群聊)&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>send_group_forward_msg</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>uint</td><td>群号</td></tr><tr><td><code>messages</code></td><td>List[<a href="./../../Segment/Extend/#node">Node</a>]</td><td>自定义转发消息, 要求参看前文</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>message_id</code></td><td>int</td><td>消息 ID</td></tr><tr><td><code>forward_id</code></td><td>string</td><td>转发消息 ID</td></tr></tbody></table><h2 id="发送合并转发-好友" tabindex="-1">发送合并转发 (好友) <a class="header-anchor" href="#发送合并转发-好友" aria-label="Permalink to &quot;发送合并转发 (好友)&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>send_private_forward_msg</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>uint</td><td>好友 QQ 号</td></tr><tr><td><code>messages</code></td><td>List[<a href="./../../Segment/Extend/#node">Node</a>]</td><td>自定义转发消息, 要求参看前文</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>message_id</code></td><td>int</td><td>消息 ID</td></tr><tr><td><code>forward_id</code></td><td>string</td><td>转发消息 ID</td></tr></tbody></table><h2 id="上传群文件" tabindex="-1">上传群文件 <a class="header-anchor" href="#上传群文件" aria-label="Permalink to &quot;上传群文件&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>upload_group_file</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>int</td><td>群号</td></tr><tr><td><code>file</code></td><td>string</td><td><strong>本地</strong>文件路径</td></tr><tr><td><code>name</code></td><td>string</td><td>储存名称</td></tr><tr><td><code>folder</code></td><td>string</td><td>父目录 ID（可选）</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><p>在不提供 <code>folder</code> 参数的情况下默认上传到根目录</p></div><h2 id="私聊发送文件" tabindex="-1">私聊发送文件 <a class="header-anchor" href="#私聊发送文件" aria-label="Permalink to &quot;私聊发送文件&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>upload_private_file</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>int</td><td>对方 QQ 号</td></tr><tr><td><code>file</code></td><td>string</td><td><strong>本地</strong>文件路径</td></tr><tr><td><code>name</code></td><td>string</td><td>文件名称</td></tr></tbody></table><h2 id="获取群根目录文件列表" tabindex="-1">获取群根目录文件列表 <a class="header-anchor" href="#获取群根目录文件列表" aria-label="Permalink to &quot;获取群根目录文件列表&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>get_group_root_files</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>int</td><td>群号</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>files</code></td><td>List[<a href="./../../Segment/Extend/#file">File</a>]</td><td>文件列表</td></tr><tr><td><code>folders</code></td><td>List[<a href="./../../Segment/Extend/#folder">Folder</a>]</td><td>文件夹列表</td></tr></tbody></table><h2 id="获取群子目录文件列表" tabindex="-1">获取群子目录文件列表 <a class="header-anchor" href="#获取群子目录文件列表" aria-label="Permalink to &quot;获取群子目录文件列表&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>get_group_files_by_folder</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>int</td><td>群号</td></tr><tr><td><code>folder_id</code></td><td>string</td><td>文件夹 ID 参考 <code>Folder</code> 对象</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>files</code></td><td>List[<a href="./../../Segment/Extend/#file">File</a>]</td><td>文件列表</td></tr><tr><td><code>folders</code></td><td>List[<a href="./../../Segment/Extend/#folder">Folder</a>]</td><td>文件夹列表</td></tr></tbody></table><h2 id="获取群文件资源链接" tabindex="-1">获取群文件资源链接 <a class="header-anchor" href="#获取群文件资源链接" aria-label="Permalink to &quot;获取群文件资源链接&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>get_group_file_url</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>int</td><td>群号</td></tr><tr><td><code>file_id</code></td><td>string</td><td>文件 ID</td></tr><tr><td><code>busid</code></td><td>int</td><td>文件类型</td></tr></tbody></table><p><strong>响应数据</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>文件下载链接</td></tr></tbody></table><h2 id="好友戳一戳" tabindex="-1">好友戳一戳 <a class="header-anchor" href="#好友戳一戳" aria-label="Permalink to &quot;好友戳一戳&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>friend_poke</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>int</td><td>对方 QQ 号</td></tr></tbody></table><h2 id="群组戳一戳" tabindex="-1">群组戳一戳 <a class="header-anchor" href="#群组戳一戳" aria-label="Permalink to &quot;群组戳一戳&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>group_poke</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>int</td><td>群号</td></tr><tr><td><code>user_id</code></td><td>int</td><td>对方 QQ 号</td></tr></tbody></table><h2 id="设置群组专属头衔" tabindex="-1">设置群组专属头衔 <a class="header-anchor" href="#设置群组专属头衔" aria-label="Permalink to &quot;设置群组专属头衔&quot;">​</a></h2><p><strong>方法名</strong></p><p><code>set_group_special_title</code></p><p><strong>参数</strong></p><table><thead><tr><th>字段名</th><th>数据类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>group_id</code></td><td>uint</td><td>-</td><td>群号</td></tr><tr><td><code>user_id</code></td><td>uint</td><td>-</td><td>要设置的 QQ 号</td></tr><tr><td><code>special_title</code></td><td>string</td><td>-</td><td>专属头衔, 空字符串表示删除专属头衔</td></tr></tbody></table>`,93),o=[i];function r(h,n,p,l,c,g){return e(),d("div",null,o)}const E=t(a,[["render",r]]);export{b as __pageData,E as default};
