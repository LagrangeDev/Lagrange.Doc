import{_ as t,c as e,o as a,a2 as s}from"./chunks/framework.Be7igsT0.js";const y=JSON.parse('{"title":"扫码登陆","description":"","frontmatter":{},"headers":[],"relativePath":"Lagrange.Core/Login/LoginByScanQrCode.md","filePath":"Lagrange.Core/Login/LoginByScanQrCode.md","lastUpdated":1710680441000}'),i={name:"Lagrange.Core/Login/LoginByScanQrCode.md"},n=s('<h1 id="扫码登陆" tabindex="-1">扫码登陆 <a class="header-anchor" href="#扫码登陆" aria-label="Permalink to &quot;扫码登陆&quot;">​</a></h1><p>本节将介绍如何扫码登陆</p><p>扫码登陆是目前初次登陆所必须的登陆方式, 初次登陆使用密码登陆有较大概率无法登陆!</p><h2 id="qrcode-二维码" tabindex="-1">QrCode 二维码 <a class="header-anchor" href="#qrcode-二维码" aria-label="Permalink to &quot;QrCode 二维码&quot;">​</a></h2><p>首先, 你需要使用 <code>FetchQrCode()</code> 异步方法, 这将返回一个元组</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> qrCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FetchQrCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>返回的元组包含以下元素:</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Url</code></td><td style="text-align:center;">string</td><td style="text-align:center;">二维码内容链接</td></tr><tr><td style="text-align:center;"><code>QrCode</code></td><td style="text-align:center;">byte[]</td><td style="text-align:center;">二维码 PNG byte[]</td></tr></tbody></table><p>可以将二维码的 <code>byte[]</code> 保存为本地 PNG 文件扫码, 也可以用二维码生成工具把 Url 生成为二维码交给手机扫描</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>二维码内容链接需要被转换为二维码图片后通过手机 App 扫码登录, 不要直接访问链接</p></div><h2 id="等待登陆" tabindex="-1">等待登陆 <a class="header-anchor" href="#等待登陆" aria-label="Permalink to &quot;等待登陆&quot;">​</a></h2><p>在获取完二维码后,等待异步方法 <code>LoginByQrCode()</code>, 该方法会等待用户扫码并在扫码完毕后返回</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LoginByQrCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>如果你正在进行概念验证, 运行完登陆后程序不会自行退出, 这是因为 BotContext 需要被你 Dispose</p></div>',14),o=[n];function l(d,r,c,p,h,g){return a(),e("div",null,o)}const b=t(i,[["render",l]]);export{y as __pageData,b as default};
