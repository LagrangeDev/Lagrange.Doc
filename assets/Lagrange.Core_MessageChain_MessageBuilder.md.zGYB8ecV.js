import{_ as e,c as t,o as a,a4 as s}from"./chunks/framework.DUCr4ECn.js";const y=JSON.parse('{"title":"MessageBuilder 构造消息链","description":"","frontmatter":{},"headers":[],"relativePath":"Lagrange.Core/MessageChain/MessageBuilder.md","filePath":"Lagrange.Core/MessageChain/MessageBuilder.md","lastUpdated":1722769212000}'),i={name:"Lagrange.Core/MessageChain/MessageBuilder.md"},l=s('<h1 id="messagebuilder-构造消息链" tabindex="-1">MessageBuilder 构造消息链 <a class="header-anchor" href="#messagebuilder-构造消息链" aria-label="Permalink to &quot;MessageBuilder 构造消息链&quot;">​</a></h1><p>构造消息链工厂类, 根据静态方法的不同返回特定的 MessageChain</p><h2 id="构造群聊消息-messagechain" tabindex="-1">构造群聊消息 MessageChain <a class="header-anchor" href="#构造群聊消息-messagechain" aria-label="Permalink to &quot;构造群聊消息 MessageChain&quot;">​</a></h2><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> groupMessageChain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MessageBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_uin)</span></span></code></pre></div><p>该静态方法将接收一个 <code>uint</code> 作为目标群的群号,返回一个 <code>MessageChain</code> 实例</p><h2 id="构造私聊消息-messagechain" tabindex="-1">构造私聊消息 MessageChain <a class="header-anchor" href="#构造私聊消息-messagechain" aria-label="Permalink to &quot;构造私聊消息 MessageChain&quot;">​</a></h2><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> privateMessageChain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MessageBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Friend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_uin)</span></span></code></pre></div><p>该静态方法将接收一个 <code>uint</code> 作为目标用户的 uin, 返回一个 <code>MessageChain</code> 实例</p><h2 id="向构造里加入消息实体" tabindex="-1">向构造里加入消息实体 <a class="header-anchor" href="#向构造里加入消息实体" aria-label="Permalink to &quot;向构造里加入消息实体&quot;">​</a></h2><p>采用链式调用的方法向消息内加入内容</p><h3 id="加入文本" tabindex="-1">加入文本 <a class="header-anchor" href="#加入文本" aria-label="Permalink to &quot;加入文本&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_text);</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>text</code></td><td style="text-align:center;">string</td><td style="text-align:center;">消息内容</td></tr></tbody></table><p>向消息内加入一段文本</p><h3 id="加入图片" tabindex="-1">加入图片 <a class="header-anchor" href="#加入图片" aria-label="Permalink to &quot;加入图片&quot;">​</a></h3><p>该方法有多个重载</p><ol><li><p>指定图片路径 (<code>string</code>) 的重载</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_filePath);</span></span></code></pre></div></li><li><p>指定图片二进制 (<code>byte[]</code>) 的重载</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_file);</span></span></code></pre></div></li></ol><p>向消息内加入一张图片</p><h3 id="加入提及-at" tabindex="-1">加入提及 (at) <a class="header-anchor" href="#加入提及-at" aria-label="Permalink to &quot;加入提及 (at)&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Mention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_target);</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>target</code></td><td style="text-align:center;">uint</td><td style="text-align:center;">提及的目标用户</td></tr><tr><td style="text-align:center;"><code>display</code></td><td style="text-align:center;">string</td><td style="text-align:center;">显示的文本, 默认为 <code>null</code></td></tr></tbody></table><p>向消息内加入一个提及 (at), 备选参数 <code>display</code> 默认为 <code>null</code>, 会自动补上 at 目标所显示的文本</p><h3 id="加入表情" tabindex="-1">加入表情 <a class="header-anchor" href="#加入表情" aria-label="Permalink to &quot;加入表情&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Face</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_id);</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>id</code></td><td style="text-align:center;">ushort</td><td style="text-align:center;">表情 ID</td></tr><tr><td style="text-align:center;"><code>isLarge</code></td><td style="text-align:center;">bool</td><td style="text-align:center;">是否为大表情, 默认为 <code>false</code></td></tr></tbody></table><p>向消息内加入一个表情</p><h3 id="加入回复" tabindex="-1">加入回复 <a class="header-anchor" href="#加入回复" aria-label="Permalink to &quot;加入回复&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_text);</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>target</code></td><td style="text-align:center;">MessageChain</td><td style="text-align:center;">目标消息</td></tr></tbody></table><p>让消息回复某个消息</p><p><s>(其实实际上只需要消息的 Seq)</s></p><h3 id="加入合并转发" tabindex="-1">加入合并转发 <a class="header-anchor" href="#加入合并转发" aria-label="Permalink to &quot;加入合并转发&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MultiMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>N/A</p><p><s>(截至目前我也不会用)</s></p><h3 id="加入-xml" tabindex="-1">加入 XML <a class="header-anchor" href="#加入-xml" aria-label="Permalink to &quot;加入 XML&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Xml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_xml);</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>xml</code></td><td style="text-align:center;">string</td><td style="text-align:center;">XML 内容</td></tr></tbody></table><p>向消息内加入一段 XML</p><h3 id="加入文件" tabindex="-1">加入文件 <a class="header-anchor" href="#加入文件" aria-label="Permalink to &quot;加入文件&quot;">​</a></h3><p>该方法有多个重载</p><ol><li><p>指定文件路径 (<code>string</code>) 的重载</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_filePath);</span></span></code></pre></div></li><li><p>指定文件二进制 (<code>byte[]</code>) 的重载</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_file,_fileName);</span></span></code></pre></div></li></ol><p>向消息内加入一个文件</p>',43),h=[l];function n(d,p,r,c,o,g){return a(),t("div",null,h)}const u=e(i,[["render",n]]);export{y as __pageData,u as default};
